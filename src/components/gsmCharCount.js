let gsmSpace = [];
gsmSpace[0x0040] = 1; // COMMERCIAL AT
gsmSpace[0x00a3] = 1; // POUND SIGN
gsmSpace[0x0024] = 1; // DOLLAR SIGN
gsmSpace[0x00a5] = 1; // YEN SIGN
gsmSpace[0x00e8] = 1; // LATIN SMALL LETTER E WITH GRAVE
gsmSpace[0x00e9] = 1; // LATIN SMALL LETTER E WITH ACUTE
gsmSpace[0x00f9] = 1; // LATIN SMALL LETTER U WITH GRAVE
gsmSpace[0x00ec] = 1; // LATIN SMALL LETTER I WITH GRAVE
gsmSpace[0x00f2] = 1; // LATIN SMALL LETTER O WITH GRAVE
gsmSpace[0x00e7] = 1; // LATIN SMALL LETTER C WITH CEDILLA
gsmSpace[0x00d8] = 1; // LATIN CAPITAL LETTER O WITH STROKE
gsmSpace[0x00f8] = 1; // LATIN SMALL LETTER O WITH STROKE
gsmSpace[0x00c5] = 1; // LATIN CAPITAL LETTER A WITH RING ABOVE
gsmSpace[0x00e5] = 1; // LATIN SMALL LETTER A WITH RING ABOVE
gsmSpace[0x005f] = 1; // LOW LINE
gsmSpace[0x005e] = 2; // CIRCUMFLEX ACCENT
gsmSpace[0x007b] = 2; // LEFT CURLY BRACKET
gsmSpace[0x007d] = 2; // RIGHT CURLY BRACKET
gsmSpace[0x005c] = 2; // REVERSE SOLIDUS
gsmSpace[0x005b] = 2; // LEFT SQUARE BRACKET
gsmSpace[0x007e] = 2; // TILDE
gsmSpace[0x005d] = 2; // RIGHT SQUARE BRACKET
gsmSpace[0x007c] = 2; // VERTICAL LINE
gsmSpace[0x00c6] = 1; // LATIN CAPITAL LETTER AE
gsmSpace[0x00e6] = 1; // LATIN SMALL LETTER AE
gsmSpace[0x00df] = 1; // LATIN SMALL LETTER SHARP S (German)
gsmSpace[0x00c9] = 1; // LATIN CAPITAL LETTER E WITH ACUTE
gsmSpace[0x0020] = 1; // SPACE
gsmSpace[0x0021] = 1; // EXCLAMATION MARK
gsmSpace[0x0022] = 1; // QUOTATION MARK
gsmSpace[0x0023] = 1; // NUMBER SIGN
gsmSpace[0x00a4] = 1; // CURRENCY SIGN
gsmSpace[0x0025] = 1; // PERCENT SIGN
gsmSpace[0x0026] = 1; // AMPERSAND
gsmSpace[0x0027] = 1; // APOSTROPHE
gsmSpace[0x0040] = 1; // COMMERCIAL AT
gsmSpace[0x00a3] = 1; // POUND SIGN
gsmSpace[0x0024] = 1; // DOLLAR SIGN
gsmSpace[0x00a5] = 1; // YEN SIGN
gsmSpace[0x00e8] = 1; // LATIN SMALL LETTER E WITH GRAVE
gsmSpace[0x00e9] = 1; // LATIN SMALL LETTER E WITH ACUTE
gsmSpace[0x00f9] = 1; // LATIN SMALL LETTER U WITH GRAVE
gsmSpace[0x00ec] = 1; // LATIN SMALL LETTER I WITH GRAVE
gsmSpace[0x00f2] = 1; // LATIN SMALL LETTER O WITH GRAVE
gsmSpace[0x00e7] = 1; // LATIN SMALL LETTER C WITH CEDILLA
gsmSpace[0x00d8] = 1; // LATIN CAPITAL LETTER O WITH STROKE
gsmSpace[0x00f8] = 1; // LATIN SMALL LETTER O WITH STROKE
gsmSpace[0x00c5] = 1; // LATIN CAPITAL LETTER A WITH RING ABOVE
gsmSpace[0x00e5] = 1; // LATIN SMALL LETTER A WITH RING ABOVE
gsmSpace[0x005f] = 1; // LOW LINE
gsmSpace[0x005e] = 2; // CIRCUMFLEX ACCENT
gsmSpace[0x007b] = 2; // LEFT CURLY BRACKET
gsmSpace[0x007d] = 2; // RIGHT CURLY BRACKET
gsmSpace[0x005c] = 2; // REVERSE SOLIDUS
gsmSpace[0x005b] = 2; // LEFT SQUARE BRACKET
gsmSpace[0x007e] = 2; // TILDE
gsmSpace[0x005d] = 2; // RIGHT SQUARE BRACKET
gsmSpace[0x007c] = 2; // VERTICAL LINE
gsmSpace[0x00c6] = 1; // LATIN CAPITAL LETTER AE
gsmSpace[0x00e6] = 1; // LATIN SMALL LETTER AE
gsmSpace[0x00df] = 1; // LATIN SMALL LETTER SHARP S (German)
gsmSpace[0x00c9] = 1; // LATIN CAPITAL LETTER E WITH ACUTE
gsmSpace[0x0020] = 1; // SPACE
gsmSpace[0x0021] = 1; // EXCLAMATION MARK
gsmSpace[0x0022] = 1; // QUOTATION MARK
gsmSpace[0x0023] = 1; // NUMBER SIGN
gsmSpace[0x00a4] = 1; // CURRENCY SIGN
gsmSpace[0x0025] = 1; // PERCENT SIGN
gsmSpace[0x0026] = 1; // AMPERSAND
gsmSpace[0x0027] = 1; // APOSTROPHE
gsmSpace[0x0028] = 1; // LEFT PARENTHESIS
gsmSpace[0x0029] = 1; // RIGHT PARENTHESIS
gsmSpace[0x002a] = 1; // ASTERISK
gsmSpace[0x002b] = 1; // PLUS SIGN
gsmSpace[0x002c] = 1; // COMMA
gsmSpace[0x002d] = 1; // HYPHEN-MINUS
gsmSpace[0x002e] = 1; // FULL STOP
gsmSpace[0x002f] = 1; // SOLIDUS
gsmSpace[0x0030] = 1; // DIGIT ZERO
gsmSpace[0x0031] = 1; // DIGIT ONE
gsmSpace[0x0032] = 1; // DIGIT TWO
gsmSpace[0x0033] = 1; // DIGIT THREE
gsmSpace[0x0034] = 1; // DIGIT FOUR
gsmSpace[0x0035] = 1; // DIGIT FIVE
gsmSpace[0x0036] = 1; // DIGIT SIX
gsmSpace[0x0037] = 1; // DIGIT SEVEN
gsmSpace[0x0038] = 1; // DIGIT EIGHT
gsmSpace[0x0039] = 1; // DIGIT NINE
gsmSpace[0x003a] = 1; // COLON
gsmSpace[0x003b] = 1; // SEMICOLON
gsmSpace[0x003c] = 1; // LESS-THAN SIGN
gsmSpace[0x003d] = 1; // EQUALS SIGN
gsmSpace[0x003e] = 1; // GREATER-THAN SIGN
gsmSpace[0x003f] = 1; // QUESTION MARK
gsmSpace[0x00a1] = 1; // INVERTED EXCLAMATION MARK
gsmSpace[0x0041] = 1; // LATIN CAPITAL LETTER A
gsmSpace[0x0042] = 1; // LATIN CAPITAL LETTER B
gsmSpace[0x0392] = 1; // GREEK CAPITAL LETTER BETA
gsmSpace[0x0043] = 1; // LATIN CAPITAL LETTER C
gsmSpace[0x0044] = 1; // LATIN CAPITAL LETTER D
gsmSpace[0x0045] = 1; // LATIN CAPITAL LETTER E
gsmSpace[0x0046] = 1; // LATIN CAPITAL LETTER F
gsmSpace[0x0047] = 1; // LATIN CAPITAL LETTER G
gsmSpace[0x0048] = 1; // LATIN CAPITAL LETTER H
gsmSpace[0x0049] = 1; // LATIN CAPITAL LETTER I
gsmSpace[0x004a] = 1; // LATIN CAPITAL LETTER J
gsmSpace[0x004b] = 1; // LATIN CAPITAL LETTER K
gsmSpace[0x004c] = 1; // LATIN CAPITAL LETTER L
gsmSpace[0x004d] = 1; // LATIN CAPITAL LETTER M
gsmSpace[0x004e] = 1; // LATIN CAPITAL LETTER N
gsmSpace[0x004f] = 1; // LATIN CAPITAL LETTER O
gsmSpace[0x0050] = 1; // LATIN CAPITAL LETTER P
gsmSpace[0x0051] = 1; // LATIN CAPITAL LETTER Q
gsmSpace[0x0052] = 1; // LATIN CAPITAL LETTER R
gsmSpace[0x0053] = 1; // LATIN CAPITAL LETTER S
gsmSpace[0x0054] = 1; // LATIN CAPITAL LETTER T
gsmSpace[0x0055] = 1; // LATIN CAPITAL LETTER U
gsmSpace[0x0056] = 1; // LATIN CAPITAL LETTER V
gsmSpace[0x0057] = 1; // LATIN CAPITAL LETTER W
gsmSpace[0x0058] = 1; // LATIN CAPITAL LETTER X
gsmSpace[0x0059] = 1; // LATIN CAPITAL LETTER Y
gsmSpace[0x005a] = 1; // LATIN CAPITAL LETTER Z
gsmSpace[0x00c4] = 1; // LATIN CAPITAL LETTER A WITH DIAERESIS
gsmSpace[0x00d6] = 1; // LATIN CAPITAL LETTER O WITH DIAERESIS
gsmSpace[0x00d1] = 1; // LATIN CAPITAL LETTER N WITH TILDE
gsmSpace[0x00dc] = 1; // LATIN CAPITAL LETTER U WITH DIAERESIS
gsmSpace[0x00a7] = 1; // SECTION SIGN
gsmSpace[0x00bf] = 1; // INVERTED QUESTION MARK
gsmSpace[0x0061] = 1; // LATIN SMALL LETTER A
gsmSpace[0x0062] = 1; // LATIN SMALL LETTER B
gsmSpace[0x0063] = 1; // LATIN SMALL LETTER C
gsmSpace[0x0064] = 1; // LATIN SMALL LETTER D
gsmSpace[0x0065] = 1; // LATIN SMALL LETTER E
gsmSpace[0x0066] = 1; // LATIN SMALL LETTER F
gsmSpace[0x0067] = 1; // LATIN SMALL LETTER G
gsmSpace[0x0068] = 1; // LATIN SMALL LETTER H
gsmSpace[0x0069] = 1; // LATIN SMALL LETTER I
gsmSpace[0x006a] = 1; // LATIN SMALL LETTER J
gsmSpace[0x006b] = 1; // LATIN SMALL LETTER K
gsmSpace[0x006c] = 1; // LATIN SMALL LETTER L
gsmSpace[0x006d] = 1; // LATIN SMALL LETTER M
gsmSpace[0x006e] = 1; // LATIN SMALL LETTER N
gsmSpace[0x006f] = 1; // LATIN SMALL LETTER O
gsmSpace[0x0070] = 1; // LATIN SMALL LETTER P
gsmSpace[0x0071] = 1; // LATIN SMALL LETTER Q
gsmSpace[0x0072] = 1; // LATIN SMALL LETTER R
gsmSpace[0x0073] = 1; // LATIN SMALL LETTER S
gsmSpace[0x0074] = 1; // LATIN SMALL LETTER T
gsmSpace[0x0075] = 1; // LATIN SMALL LETTER U
gsmSpace[0x0076] = 1; // LATIN SMALL LETTER V
gsmSpace[0x0077] = 1; // LATIN SMALL LETTER W
gsmSpace[0x0078] = 1; // LATIN SMALL LETTER X
gsmSpace[0x0079] = 1; // LATIN SMALL LETTER Y
gsmSpace[0x007a] = 1; // LATIN SMALL LETTER Z
gsmSpace[0x00e4] = 1; // LATIN SMALL LETTER A WITH DIAERESIS
gsmSpace[0x00f6] = 1; // LATIN SMALL LETTER O WITH DIAERESIS
gsmSpace[0x00f1] = 1; // LATIN SMALL LETTER N WITH TILDE
gsmSpace[0x00fc] = 1; // LATIN SMALL LETTER U WITH DIAERESIS
gsmSpace[0x00e0] = 1; // LATIN SMALL LETTER A WITH GRAVE
gsmSpace[0x000a] = 1; // NEWLINE

export default function gsmCharCount(str) {
  if (str == null) {
    return 0;
  }
  let sum = 0;
  for (let i = 0; i < str.length; i++) {
    if (gsmSpace[str.charCodeAt(i)]) sum += gsmSpace[str.charCodeAt(i)];
    else if (str.charCodeAt(i) === 13) sum += 0;
    else sum += 1;
  }

  return sum;
}
